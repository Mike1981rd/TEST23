@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<div class="page-header">
	<div class="page-title">
		<h3>@ViewLocalizer["Sales by Payment Method Report"]</h3>
	</div>
</div>

<div class="card">
	<div class="card-body">
		<div class="row">
			<div class="col-lg-3 col-sm-6 col-12">
				<div class="form-group">
					<label>@ViewLocalizer["Date From"] </label>
					<input id="filter_datefrom" type="text" class="datetimepicker cal-icon" placeholder="@ViewLocalizer["Choose Date"]">
				</div>
			</div>
			<div class="col-lg-3 col-sm-6 col-12">
				<div class="form-group">
					<label>@ViewLocalizer["Date To"] </label>
					<input id="filter_dateto" type="text" class="datetimepicker cal-icon" value="@DateTime.Today.ToString("dd-MM-yyyy")" placeholder="@ViewLocalizer["Choose Date"]">
				</div>
			</div>
			<div class="col-lg-3 col-sm-6 col-12" style="padding-top: 20px;">
				<button id="btn-report" class="btn btn-primary m-2">@ViewLocalizer["Generate Report"]</button>
			</div>
		</div>
	</div>
</div>

<script>

	$(document).ready(function () {
		$("#btn-report").click(function () {
			var datefrom = $("#filter_datefrom").val();
			var dateto = $("#filter_dateto").val();
			ShowLoader()
			$.ajax({
				type: "POST",
				url: "/Report/GenerateSalesByMethodReport?from=" + datefrom + "&to=" + dateto,
				success: function (data) {
					HideLoader()
					if (data.status == 0) {
						window.open(data.url, '_blank');
					}
				},
				error: function () {
					toastr.error("@ViewLocalizer["There was an error in processing the request."]", {})
				}
			});
		});
	});

</script>